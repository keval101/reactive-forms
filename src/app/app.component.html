<div class="container">
  <div class="row">
    <div class="col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2" >
      <form [formGroup] = 'signupForm' (ngSubmit)="onSubmit()">
        <div formGroupName="userData">

          <div class="form-group" >
            <label for="username">Username</label>
            <input type="text" id="username" class="form-control" formControlName="username" required>
            <span *ngIf = "!signupForm.get('userData.username').valid && signupForm.get('userData.username').touched " class="text-danger">
              <span *ngIf = "signupForm.get('userData.username').errors['nameIsForbidden']">Please Enter Valid Username </span>
              <span *ngIf = "signupForm.get('userData.username').errors['required']">This field is required !</span>
              !</span>
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" class="form-control" formControlName="email" required>
            <span *ngIf = "!signupForm.get('userData.email').valid && signupForm.get('userData.email').touched " class="text-danger">Please Enter Valid Email !</span>
          </div>

        </div>


        <div class="radio" *ngFor = "let gender of genders">
          <label>
            <input type="radio" formControlName="gender" [value]="gender" class="mr-1" >{{gender}}
          </label>
        </div>


        <div class="form-group mt-2" formArrayName = "hobbies">
          <label>Hobby : </label><br>
          <button class="btn btn-primary mb-2" (click)="onAddHobby()" type="button">Add Hobby</button>

          <div class="form-group" *ngFor = "let hobby of signupForm.get('hobbies')['controls']; let i = index ">
            <input type="text" [formControlName] = "i" class="form-control">
          </div>
        </div>

        <button class="btn btn-primary" type="submit" [disabled] = "!signupForm.valid" [ngStyle] = "{'cursor' : !signupForm.valid ? 'not-allowed' : 'pointer'}">Submit</button>
      </form>
    </div>
  </div>
</div>
